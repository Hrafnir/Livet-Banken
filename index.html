<!-- Version: #8 -->
<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Livet & Banken 3.0 - Livssimulator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="app-container">
        
        <!-- Hovednavigasjon -->
        <nav class="main-nav">
            <button id="nav-life" class="nav-btn active">Livet</button>
            <button id="nav-jobs" class="nav-btn">Jobbmarked</button>
            <button id="nav-edu" class="nav-btn">Utdanning</button>
            <button id="nav-store" class="nav-btn">Butikk</button>
            <button id="nav-bank" class="nav-btn">Nettbanken</button>
        </nav>

        <!-- VISNING 1: LIVET (Oversikt & Planlegging) -->
        <section id="view-life" class="view active-view">
            <header class="life-header">
                <div class="stat-group">
                    <div class="stat-box">
                        <span class="label">Tid:</span>
                        <span class="value">Mnd <span id="disp-month">1</span>, Uke <span id="disp-week">1</span></span>
                    </div>
                    <div class="stat-box">
                        <span class="label">Saldo:</span>
                        <span id="disp-cash" class="value">0 kr</span>
                    </div>
                </div>
                
                <div class="bars-group">
                    <div class="bar-box">
                        <span class="label">Helse:</span>
                        <div class="progress-bar-container">
                            <div id="bar-health" class="progress-bar health" style="width: 100%;"></div>
                        </div>
                    </div>
                    <div class="bar-box">
                        <span class="label">Lykke:</span>
                        <div class="progress-bar-container">
                            <div id="bar-happiness" class="progress-bar happiness" style="width: 100%;"></div>
                        </div>
                    </div>
                </div>
            </header>

            <main class="life-main">
                
                <!-- Postkasse & Status -->
                <div class="info-section">
                    <div class="mailbox-area">
                        <h3>ðŸ“¬ Postkasse <span id="mail-count" class="badge hidden">0</span></h3>
                        <div id="mailbox-list" class="mailbox-list">
                            <div class="empty-msg">Ingen post.</div>
                        </div>
                    </div>
                    
                    <div class="status-area">
                        <h3>Din Status</h3>
                        <p><strong>Jobb:</strong> <span id="disp-job-title">Arbeidsledig</span></p>
                        <p><strong>Kompetanse:</strong></p>
                        <ul id="skills-list" class="simple-list">
                            <li>Ingen utdanning ennÃ¥.</li>
                        </ul>
                    </div>
                </div>

                <!-- Ukesplanleggeren -->
                <div class="planner-section">
                    <h3>ðŸ“… Planlegg Uken (168 timer)</h3>
                    
                    <div class="planner-grid">
                        <!-- Kolonne 1 -->
                        <div class="planner-col">
                            <h4>NÃ¸dvendig</h4>
                            <div class="planner-input">
                                <label>SÃ¸vn (t/natt):</label>
                                <input type="number" id="input-sleep" value="8" min="0" max="24">
                            </div>
                            <div class="planner-input">
                                <label>Jobb (t/uke): <span id="job-limit-hint" class="sub-hint">Maks 0t</span></label>
                                <input type="number" id="input-work" value="0" min="0" max="100">
                            </div>
                            <div class="planner-input">
                                <label>Husarbeid (t/uke):</label>
                                <input type="number" id="input-chores" value="5" min="0" max="50">
                            </div>
                        </div>

                        <!-- Kolonne 2 -->
                        <div class="planner-col">
                            <h4>Utvikling & Fritid</h4>
                            <div class="planner-input">
                                <label>Studier (t/uke):</label>
                                <input type="number" id="input-study" value="0" min="0" max="100">
                            </div>
                            <div class="planner-input">
                                <label>Trening (t/uke):</label>
                                <input type="number" id="input-exercise" value="0" min="0" max="50">
                            </div>
                            <div class="planner-input">
                                <label>Sosialt/Shopping (t/uke):</label>
                                <input type="number" id="input-shopping" value="0" min="0" max="50">
                            </div>
                        </div>
                    </div>

                    <div class="planner-summary">
                        <p>Pendling: <span id="calc-commute">0</span> t | Tid igjen: <strong id="calc-free-time">0</strong> t</p>
                        <p>Matbudsjett: 
                            <select id="select-food-budget">
                                <option value="low">Lavt (500kr)</option>
                                <option value="medium" selected>Middels (1500kr)</option>
                                <option value="high">HÃ¸yt (3500kr)</option>
                            </select>
                        </p>
                    </div>

                    <button id="btn-run-week" class="action-btn big-btn">Start Uken ðŸš€</button>
                </div>

                <!-- VerktÃ¸y -->
                <div class="tools-section">
                    <button id="btn-get-bankid" class="secondary-btn">ðŸ”‘ Hent BankID</button>
                    <div class="inventory">
                        <h4>Dine Ting & Abonnementer:</h4>
                        <ul id="inventory-list">Ingen ting.</ul>
                    </div>
                </div>

            </main>
        </section>

        <!-- VISNING 2: JOBBMARKED -->
        <section id="view-jobs" class="view hidden-view">
            <h2>Jobbmarked</h2>
            <p class="intro-text">SÃ¸k pÃ¥ jobber du er kvalifisert for. Husk pendlertiden!</p>
            <div id="job-list" class="card-grid">
                <!-- Fylles av JS fra data_jobs.js -->
            </div>
        </section>

        <!-- VISNING 3: UTDANNING -->
        <section id="view-edu" class="view hidden-view">
            <h2>Campus & Kurs</h2>
            <p class="intro-text">Invester tid i kompetanse for Ã¥ fÃ¥ bedre jobber.</p>
            <div id="edu-list" class="card-grid">
                <!-- Fylles av JS fra data_education.js -->
            </div>
        </section>

        <!-- VISNING 4: BUTIKK -->
        <section id="view-store" class="view hidden-view">
            <h2>Butikk & Tjenester</h2>
            <p class="intro-text">KjÃ¸p ting som gjÃ¸r livet enklere eller tryggere.</p>
            <div id="store-list" class="card-grid">
                <!-- Fylles av JS fra data_items.js -->
            </div>
        </section>


        <!-- VISNING 5: NETTBANKEN -->
        <section id="view-bank" class="view hidden-view">
            
            <!-- Bank: Logg inn -->
            <div id="bank-login-screen" class="bank-screen">
                <div class="login-box">
                    <div class="bank-logo">NordBanken</div>
                    <h2>Logg inn</h2>
                    <form id="login-form">
                        <div class="form-group">
                            <label>FÃ¸dselsnummer</label>
                            <input type="text" value="150509 12345" disabled>
                        </div>
                        <div class="form-group">
                            <label>Engangskode</label>
                            <input type="number" id="input-bankid-login" placeholder="------">
                        </div>
                        <button type="submit" class="bank-primary-btn">Logg inn</button>
                        <p id="login-error" class="error-msg hidden">Feil kode.</p>
                    </form>
                </div>
            </div>

            <!-- Bank: Dashboard -->
            <div id="bank-dashboard-screen" class="bank-screen hidden">
                <header class="bank-header">
                    <div class="bank-logo-small">NordBanken</div>
                    <button id="btn-logout" class="bank-logout-btn">Logg ut</button>
                </header>

                <div class="bank-grid">
                    <!-- Kontoer -->
                    <div class="bank-panel">
                        <h3>Oversikt</h3>
                        <div class="account-row">
                            <span>Brukskonto</span>
                            <span id="bal-checking" class="amount">0.00</span>
                        </div>
                        <div class="account-row">
                            <span>Sparekonto</span>
                            <span id="bal-savings" class="amount">0.00</span>
                        </div>
                        <div class="account-row">
                            <span>BSU</span>
                            <span id="bal-bsu" class="amount">0.00</span>
                        </div>
                    </div>

                    <!-- EgenoverfÃ¸ring -->
                    <div class="bank-panel">
                        <h3>OverfÃ¸ring</h3>
                        <div class="payment-form">
                            <div class="form-group">
                                <label>Fra</label>
                                <select id="trans-from">
                                    <option value="checking">Brukskonto</option>
                                    <option value="savings">Sparekonto</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Til</label>
                                <select id="trans-to">
                                    <option value="savings">Sparekonto</option>
                                    <option value="bsu">BSU</option>
                                    <option value="checking">Brukskonto</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>BelÃ¸p</label>
                                <input type="number" id="trans-amount" placeholder="0">
                            </div>
                            <button id="btn-transfer" class="bank-action-btn">OverfÃ¸r</button>
                        </div>
                    </div>

                    <!-- Betaling (Regninger) -->
                    <div class="bank-panel">
                        <h3>Betale Regning</h3>
                        <div class="payment-form">
                            <div class="form-group">
                                <label>Fra konto</label>
                                <select id="pay-from">
                                    <option value="checking">Brukskonto</option>
                                    <option value="savings">Sparekonto</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Til kontonummer</label>
                                <input type="text" id="pay-to-acc" placeholder="0000.00.00000">
                            </div>
                            <div class="form-group">
                                <label>KID</label>
                                <input type="text" id="pay-kid" placeholder="KID nummer">
                            </div>
                            <div class="form-group">
                                <label>BelÃ¸p</label>
                                <input type="number" id="pay-amount" placeholder="0.00">
                            </div>
                            <button id="btn-pay-manual" class="bank-action-btn">Betal</button>
                        </div>
                    </div>

                    <!-- eFaktura Oversikt -->
                    <div class="bank-panel full-width">
                        <h3>eFaktura / Avtaler</h3>
                        <div id="efaktura-list" class="efaktura-container">
                            <div class="empty-bills">Ingen avtaler.</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </div>

    <!-- MODALER -->
    
    <!-- BankID Code Modal -->
    <div id="modal-bankid" class="modal hidden">
        <div class="modal-content">
            <h3>Din Engangskode</h3>
            <div id="display-bankid-code" class="code-display">------</div>
            <button id="btn-close-bankid" class="primary-btn">Lukk</button>
        </div>
    </div>

    <!-- Paper Bill Modal -->
    <div id="modal-paper-bill" class="modal hidden">
        <div class="modal-content paper-bill">
            <div class="bill-header">
                <span id="bill-sender">Avsender</span>
                <span class="bill-date">Forfall: Uke <span id="bill-due-week">1</span></span>
            </div>
            <div class="bill-body">
                <p>Faktura for periode.</p>
                <div class="bill-details">
                    <div class="detail-row">
                        <span>BelÃ¸p:</span>
                        <strong id="bill-amount-display">0,00</strong>
                    </div>
                    <div class="detail-row">
                        <span>Konto:</span>
                        <strong id="bill-account-display" class="copyable">1234.56.78901</strong>
                    </div>
                    <div class="detail-row">
                        <span>KID:</span>
                        <strong id="bill-kid-display" class="copyable">00000</strong>
                    </div>
                </div>
            </div>
            <div class="bill-footer">
                <button id="btn-close-bill" class="primary-btn">Lukk</button>
            </div>
        </div>
    </div>

    <!-- eFaktura Offer Modal -->
    <div id="modal-efaktura-offer" class="modal hidden">
        <div class="modal-content">
            <h3>Opprette eFaktura?</h3>
            <p>Vil du at regninger fra <span id="offer-recipient">Mottaker</span> skal komme rett i nettbanken?</p>
            <div class="modal-actions">
                <button id="btn-accept-efaktura" class="primary-btn">Ja</button>
                <button id="btn-decline-efaktura" class="secondary-btn">Nei</button>
            </div>
        </div>
    </div>

    <!-- Event Modal (NY!) -->
    <div id="modal-event" class="modal hidden">
        <div class="modal-content" style="border-top: 5px solid #f39c12;">
            <h3>Uventet Hendelse!</h3>
            <p id="event-text">Noe skjedde...</p>
            <p id="event-cost" style="font-weight:bold; font-size:1.2rem; margin:15px 0;">Kostnad: 0 kr</p>
            <p id="event-insurance" style="color: green; font-style: italic;"></p>
            <button id="btn-close-event" class="primary-btn">OK</button>
        </div>
    </div>

    <!-- Game Over Modal -->
    <div id="modal-gameover" class="modal hidden">
        <div class="modal-content gameover-content">
            <h2>GAME OVER</h2>
            <p id="gameover-reason">Slutt.</p>
            <button id="btn-restart" class="primary-btn">Start pÃ¥ nytt</button>
        </div>
    </div>

    <div id="toast-container"></div>

    <!-- LAST INN DATA FÃ˜RST -->
    <script src="data_jobs.js"></script>
    <script src="data_education.js"></script>
    <script src="data_items.js"></script>
    <script src="data_events.js"></script>
    
    <!-- HOVEDLOGIKK -->
    <script src="script.js"></script>
</body>
</html>
<!-- Version: #8 -->

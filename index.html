<!-- Version: #14 -->
<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Livet & Banken 4.0</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="app-container">
        
        <!-- Hovednavigasjon -->
        <nav class="main-nav">
            <button id="nav-life" class="nav-btn active">Livet</button>
            <button id="nav-jobs" class="nav-btn">Jobb</button>
            <button id="nav-housing" class="nav-btn">Bolig</button>
            <button id="nav-edu" class="nav-btn">Studier</button>
            <button id="nav-store" class="nav-btn">Butikk</button>
            <button id="nav-bank" class="nav-btn">Banken</button>
        </nav>

        <!-- VISNING 1: LIVET (Oversikt) -->
        <section id="view-life" class="view active-view">
            <header class="life-header">
                <div class="stat-group">
                    <div class="stat-box">
                        <span class="label">Tid:</span>
                        <span class="value">Mnd <span id="disp-month">1</span>, Uke <span id="disp-week">1</span></span>
                    </div>
                    <div class="stat-box">
                        <span class="label">Saldo:</span>
                        <span id="disp-cash" class="value">0 kr</span>
                    </div>
                </div>
                
                <div class="bars-group">
                    <div class="bar-box">
                        <span class="label">Helse:</span>
                        <div class="progress-bar-container">
                            <div id="bar-health" class="progress-bar health" style="width: 100%;"></div>
                        </div>
                    </div>
                    <div class="bar-box">
                        <span class="label">Lykke:</span>
                        <div class="progress-bar-container">
                            <div id="bar-happiness" class="progress-bar happiness" style="width: 100%;"></div>
                        </div>
                    </div>
                </div>
            </header>

            <main class="life-main">
                
                <div class="info-section">
                    <div class="status-area">
                        <h3>Min Status</h3>
                        <p><strong>Jobb:</strong> <span id="disp-job-title">Arbeidsledig</span></p>
                        <p><strong>Bosted:</strong> <span id="disp-home-title">Kjelleren</span></p>
                        <ul id="skills-list" class="simple-list"></ul>
                    </div>
                    <div class="mailbox-area">
                        <h3>ðŸ“¬ Postkasse <span id="mail-count" class="badge hidden">0</span></h3>
                        <div id="mailbox-list" class="mailbox-list">
                            <div class="empty-msg">Ingen post.</div>
                        </div>
                    </div>
                </div>

                <!-- Planlegger -->
                <div class="planner-section">
                    <h3>ðŸ“… Ukeplanlegger (168t)</h3>
                    <div class="planner-grid">
                        <div class="planner-col">
                            <h4>Obligatorisk</h4>
                            <div class="planner-input"><label>SÃ¸vn (t/natt)</label><input type="number" id="input-sleep" value="8" min="0" max="24"></div>
                            <div class="planner-input"><label>Jobb (t/uke)</label><input type="number" id="input-work" value="0" min="0" max="100"></div>
                            <div class="planner-input"><label>Husarbeid (t/uke)</label><input type="number" id="input-chores" value="5" min="0" max="50"></div>
                        </div>
                        <div class="planner-col">
                            <h4>Fritid & Utvikling</h4>
                            <div class="planner-input"><label>Studier (t/uke)</label><input type="number" id="input-study" value="0" min="0" max="100"></div>
                            <div class="planner-input"><label>Trening (t/uke)</label><input type="number" id="input-exercise" value="0" min="0" max="50"></div>
                            <div class="planner-input"><label>Sosialt (t/uke)</label><input type="number" id="input-shopping" value="0" min="0" max="50"></div>
                        </div>
                    </div>
                    <div class="planner-summary">
                        <p>Pendling: <span id="calc-commute">0</span>t | Ledig tid: <strong id="calc-free-time">0</strong>t</p>
                        <p>Matbudsjett: 
                            <select id="select-food-budget">
                                <option value="low">Lavt (500kr)</option>
                                <option value="medium" selected>Middels (1500kr)</option>
                                <option value="high">HÃ¸yt (3500kr)</option>
                            </select>
                        </p>
                    </div>
                    <button id="btn-run-week" class="action-btn big-btn">Start Uken ðŸš€</button>
                </div>

                <div class="tools-section">
                    <button id="btn-get-bankid" class="secondary-btn">ðŸ”‘ Hent BankID</button>
                    <div class="inventory">
                        <h4>Mine Ting:</h4>
                        <ul id="inventory-list">Ingen ting.</ul>
                    </div>
                </div>
            </main>
        </section>

        <!-- VISNING 2: JOBBMARKED -->
        <section id="view-jobs" class="view hidden-view">
            <h2>Jobbmarked</h2>
            <div id="job-list" class="card-grid"></div>
        </section>

        <!-- VISNING 3: BOLIGMARKED -->
        <section id="view-housing" class="view hidden-view">
            <h2>Boligmarked</h2>
            <p class="intro-text">Leie eller eie? Husk at lÃ¥n koster penger.</p>
            <div id="housing-list" class="card-grid"></div>
        </section>

        <!-- VISNING 4: UTDANNING -->
        <section id="view-edu" class="view hidden-view">
            <h2>Campus & Kurs</h2>
            <div id="edu-list" class="card-grid"></div>
        </section>

        <!-- VISNING 5: BUTIKK -->
        <section id="view-store" class="view hidden-view">
            <h2>Butikk & Abonnementer</h2>
            <div id="store-list" class="card-grid"></div>
        </section>

        <!-- VISNING 6: NETTBANKEN -->
        <section id="view-bank" class="view hidden-view">
            
            <!-- Bank Login -->
            <div id="bank-login-screen" class="bank-screen">
                <div class="login-box">
                    <div class="bank-logo">NordBanken</div>
                    <h2>Logg inn</h2>
                    <form id="login-form">
                        <div class="form-group"><label>FÃ¸dselsnummer</label><input type="text" value="150509 12345" disabled></div>
                        <div class="form-group"><label>Engangskode</label><input type="number" id="input-bankid-login" placeholder="------"></div>
                        <button type="submit" class="bank-primary-btn">Logg inn</button>
                        <p id="login-error" class="error-msg hidden">Feil kode.</p>
                    </form>
                </div>
            </div>

            <!-- Bank Dashboard -->
            <div id="bank-dashboard-screen" class="bank-screen hidden">
                <header class="bank-header">
                    <div class="bank-logo-small">NordBanken</div>
                    <button id="btn-logout" class="bank-logout-btn">Logg ut</button>
                </header>

                <div class="bank-grid">
                    <!-- Kontoer -->
                    <div class="bank-panel">
                        <h3>Kontoer</h3>
                        <div class="account-row"><span>Brukskonto</span><span id="bal-checking" class="amount">0</span></div>
                        <div class="account-row"><span>Sparekonto</span><span id="bal-savings" class="amount">0</span></div>
                        <div class="account-row"><span>BSU</span><span id="bal-bsu" class="amount">0</span></div>
                    </div>

                    <!-- LÃ¥n -->
                    <div class="bank-panel">
                        <h3>Mine LÃ¥n</h3>
                        <div id="loan-container">
                            <div class="empty-bills">Ingen lÃ¥n.</div>
                        </div>
                        <div class="loan-summary">
                            <small>Totalt lÃ¥n: <span id="total-debt">0</span> kr</small>
                        </div>
                    </div>

                    <!-- OverfÃ¸ring -->
                    <div class="bank-panel">
                        <h3>OverfÃ¸ring</h3>
                        <div class="payment-form">
                            <div class="form-group">
                                <select id="trans-from">
                                    <option value="checking">Brukskonto</option>
                                    <option value="savings">Sparekonto</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <select id="trans-to">
                                    <option value="savings">Sparekonto</option>
                                    <option value="bsu">BSU</option>
                                    <option value="checking">Brukskonto</option>
                                </select>
                            </div>
                            <div class="form-group"><input type="number" id="trans-amount" placeholder="BelÃ¸p"></div>
                            <button id="btn-transfer" class="bank-action-btn">OverfÃ¸r</button>
                        </div>
                    </div>

                    <!-- Betaling -->
                    <div class="bank-panel">
                        <h3>Betaling</h3>
                        <div class="payment-form">
                            <div class="form-group"><input type="text" id="pay-to-acc" placeholder="Kontonummer"></div>
                            <div class="form-group"><input type="text" id="pay-kid" placeholder="KID"></div>
                            <div class="form-group"><input type="number" id="pay-amount" placeholder="BelÃ¸p"></div>
                            <button id="btn-pay-manual" class="bank-action-btn">Betal</button>
                        </div>
                    </div>

                    <!-- eFaktura -->
                    <div class="bank-panel full-width">
                        <h3>eFaktura</h3>
                        <div id="efaktura-list" class="efaktura-container"></div>
                    </div>
                </div>
            </div>
        </section>

    </div>

    <!-- MODALER -->
    <div id="modal-bankid" class="modal hidden">
        <div class="modal-content"><h3>Engangskode</h3><div id="display-bankid-code" class="code-display"></div><button id="btn-close-bankid" class="primary-btn">Lukk</button></div>
    </div>
    
    <div id="modal-paper-bill" class="modal hidden">
        <div class="modal-content paper-bill">
            <div class="bill-header"><span id="bill-sender"></span><span id="bill-due-week"></span></div>
            <div class="bill-body"><p>Faktura</p><div class="bill-details">
                <div class="detail-row"><span>BelÃ¸p:</span><strong id="bill-amount-display"></strong></div>
                <div class="detail-row"><span>Konto:</span><strong id="bill-account-display" class="copyable"></strong></div>
                <div class="detail-row"><span>KID:</span><strong id="bill-kid-display" class="copyable"></strong></div>
            </div></div>
            <div class="bill-footer"><button id="btn-close-bill" class="primary-btn">Lukk</button></div>
        </div>
    </div>

    <div id="modal-efaktura-offer" class="modal hidden">
        <div class="modal-content"><h3>eFaktura?</h3><p id="offer-text">Vil du opprette AvtaleGiro?</p><div class="modal-actions"><button id="btn-accept-efaktura" class="primary-btn">Ja</button><button id="btn-decline-efaktura" class="secondary-btn">Nei</button></div></div>
    </div>

    <div id="modal-event" class="modal hidden">
        <div class="modal-content"><h3>Hendelse!</h3><p id="event-text"></p><p id="event-cost" style="font-weight:bold; margin:10px 0;"></p><p id="event-insurance" style="color:green; font-style:italic;"></p><button id="btn-close-event" class="primary-btn">OK</button></div>
    </div>

    <div id="modal-gameover" class="modal hidden">
        <div class="modal-content gameover-content">
            <h2>KONKURS!</h2>
            <p id="gameover-reason"></p>
            <p>Du har blitt kastet ut og mÃ¥ flytte hjem til mor og far.</p>
            <button id="btn-restart" class="primary-btn">Start pÃ¥ nytt</button>
        </div>
    </div>

    <div id="toast-container"></div>

    <!-- Datafiler -->
    <script src="data_jobs.js"></script>
    <script src="data_housing.js"></script>
    <script src="data_education.js"></script>
    <script src="data_items.js"></script>
    <script src="data_events.js"></script>
    
    <!-- Hovedscript -->
    <script src="script.js"></script>
</body>
</html>
<!-- Version: #14 -->
